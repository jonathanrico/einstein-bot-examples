global with sharing class TestTrustAPICalloutMockImpl implements HttpCalloutMock {

    global HTTPResponse respond(HTTPRequest req) {

        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        String body = null;
        res.setStatusCode(200);
        if(req.getEndpoint().contains('/search')){
            body = '[{"alias":"org62","instanceKey":"NA44","type":"instanceAlias"}]';
        } else if(req.getEndpoint().contains('/instances/status/preview')){
            body = '[{"key":"CS98","location":"NA","environment":"sandbox","releaseVersion":"Winter \'19 Patch 16.15","releaseNumber":"216.16.15","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"CPQ_and_Billing","order":100},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Health_Cloud","order":90},{"key":"Sales_Cloud","order":1},{"key":"Service_Cloud","order":10},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"CS80","location":"EU","environment":"sandbox","releaseVersion":"Spring \'19 Patch 4.5","releaseNumber":"218.4.5","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"CPQ_and_Billing","order":100},{"key":"Service_Cloud","order":10},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Health_Cloud","order":90},{"key":"Sales_Cloud","order":1},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"CS41","location":"NA","environment":"sandbox","releaseVersion":"Spring \'19 Patch 4.5","releaseNumber":"218.4.5","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"CPQ_and_Billing","order":100},{"key":"Sales_Cloud","order":1},{"key":"Service_Cloud","order":10},{"key":"Health_Cloud","order":90},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"CS71","location":"NA","environment":"sandbox","releaseVersion":"Spring \'19 Patch 4.5","releaseNumber":"218.4.5","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Financial_Services_Cloud","order":80},{"key":"Einstein_Analytics","order":60},{"key":"CPQ_and_Billing","order":100},{"key":"Service_Cloud","order":10},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Health_Cloud","order":90},{"key":"Sales_Cloud","order":1},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"CS10","location":"NA","environment":"sandbox","releaseVersion":"Winter \'19 Patch 16.15","releaseNumber":"216.16.15","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"CPQ_and_Billing","order":100},{"key":"Health_Cloud","order":90},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Service_Cloud","order":10},{"key":"Sales_Cloud","order":1},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"EU1","location":"EU","environment":"production","releaseVersion":"Winter \'19 Patch 16.16","releaseNumber":"216.16.16","status":"BAD","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"CPQ_and_Billing","order":100},{"key":"Sales_Cloud","order":1},{"key":"Service_Cloud","order":10},{"key":"Health_Cloud","order":90},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"CS42","location":"NA","environment":"sandbox","releaseVersion":"Spring \'19 Patch 4.5","releaseNumber":"218.4.5","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"Service_Cloud","order":10},{"key":"CPQ_and_Billing","order":100},{"key":"Health_Cloud","order":90},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Sales_Cloud","order":1},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"NA33","location":"NA","environment":"production","releaseVersion":"Winter \'19 Patch 16.16","releaseNumber":"216.16.16","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"Health_Cloud","order":90},{"key":"Service_Cloud","order":10},{"key":"CPQ_and_Billing","order":100},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Sales_Cloud","order":1},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"EU2","location":"EU","environment":"production","releaseVersion":"Winter \'18 Patch 14.1","releaseNumber":"210.14.1","status":"OK","isActive":false,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"Service_Cloud","order":10},{"key":"CPQ_and_Billing","order":100},{"key":"Health_Cloud","order":90},{"key":"Sales_Cloud","order":1},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"NA31","location":"NA","environment":"production","releaseVersion":"Winter \'19 Patch 9.5","releaseNumber":"216.9.5","status":"OK","isActive":false,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Sales_Cloud","order":1},{"key":"CPQ_and_Billing","order":100},{"key":"Service_Cloud","order":10},{"key":"Financial_Services_Cloud","order":80},{"key":"Health_Cloud","order":90},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]},{"key":"NA79","location":"NA","environment":"production","releaseVersion":"Winter \'19 Patch 16.16","releaseNumber":"216.16.16","status":"OK","isActive":true,"Products":[{"key":"Community_Cloud","order":40},{"key":"Einstein_Analytics","order":60},{"key":"Financial_Services_Cloud","order":80},{"key":"Health_Cloud","order":90},{"key":"CPQ_and_Billing","order":100},{"key":"Sales_Cloud","order":1},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Service_Cloud","order":10},{"key":"Lightning_Platform","order":30}],"Incidents":[],"Maintenances":[],"Tags":[]}]';
        } else {
            body = '{"key":"NA45","location":"NA","environment":"production","releaseVersion":"Winter \'19 Patch 16.16","releaseNumber":"216.16.16","status":"OK","isActive":true,"Services":[{"key":"coreService","order":1,"isCore":true},{"key":"liveAgent","order":20,"isCore":false},{"key":"search","order":5,"isCore":false},{"key":"analytics","order":10,"isCore":false},{"key":"CPQandBilling","order":100,"isCore":false}],"Products":[{"key":"Lightning_Platform","order":30},{"key":"Health_Cloud","order":90},{"key":"Service_Cloud","order":10},{"key":"Sales_Cloud","order":1},{"key":"CPQ_and_Billing","order":100},{"key":"LiveAgent_Omni-Channel","order":20},{"key":"Financial_Services_Cloud","order":80},{"key":"Einstein_Analytics","order":60},{"key":"Community_Cloud","order":40}],"Incidents":[],"Maintenances":[],"Tags":[]}';
        }
        res.setBody(body);

        return res;
    }

}